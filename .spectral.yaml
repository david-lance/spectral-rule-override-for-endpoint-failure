# Basic Spectral configuration demonstrating override issue
extends:
  - "spectral:oas"

rules:
  cache-control-header-rule:
    description: "Example rule checking Cache-Control header"
    message: "Success responses should contain a `Cache-Control` header value of `no-store`."
    severity: "error"
    given: "$.paths[*][post,put,patch,delete].responses[200, 201, 204].headers.Cache-Control.description"
    then:
      function: "pattern"
      functionOptions:
        match: "no-store"

overrides:
  - files:
    - "**/test-cases/failing/api.yaml#/paths/resources~1details"
    - "**/test-cases/shared/common.yaml"
    rules:
      cache-control-header-rule: "off"

  - files:
    - "**/test-cases/failing/api.yaml"
    rules:
      oas3-api-servers: "off"
      info-contact: "off"
      info-description: "off"
      operation-operationId: "off"
      operation-description: "off"
      operation-tags: "off"
